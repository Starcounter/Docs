# Project structure

The Starcounter app project structure is inspired by [the structure of ASP.NET 5 projects](http://gunnarpeipman.com/2014/10/asp-net-5-new-structure-of-solutions-and-projects/). The difference is that ASP.NET has `Controllers`, `Models`, `Scripts`, and `Views` while Starcounter has `Api` handlers, JSON + HTML `viewmodels` and `database` classes.

This tree displays the structure of a Starcounter project:

<pre><img src="/assets/folder-icon.png" /> StarcounterSample                              GitHub project/VS solution name
├── <img src="/assets/folder-icon.png" /> artifacts                                      Not pushed, generated by VS
├── <img src="/assets/folder-icon.png" /> docs                                  Generated by Documentation generator
├── <img src="/assets/folder-icon.png" /> packages                                       Not pushed, generated by VS
├── <img src="/assets/folder-icon.png" /> src                                                    Source files folder
│   └── <img src="/assets/folder-icon.png" /> StarcounterSample                                         Project name
│       ├── <img src="/assets/folder-icon.png" /> Api                                   GET, POST and other handlers
│       ├── <img src="/assets/folder-icon.png" /> bin                          Binaries, not pushed, generated by VS
│       ├── <img src="/assets/folder-icon.png" /> Content                             Build in assembly static files
│       ├── <img src="/assets/folder-icon.png" /> Database                                Database table definitions
│       ├── <img src="/assets/folder-icon.png" /> Helpers                  Helper classes, only if your app needs it
│       ├── <img src="/assets/folder-icon.png" /> obj                                    Not pushed, generated by VS
│       ├── <img src="/assets/folder-icon.png" /> package                                     Package info goes here
│       ├── <img src="/assets/folder-icon.png" /> Properties                    Assembly properties, generated by VS
│       ├── <img src="/assets/folder-icon.png" /> ViewModels                                   JSON view model files
│       │   ├── <img src="/assets/js-icon.png" /> PersonAddress.json      Example of a JSON, which is not a page
│       │   ├── <img src="/assets/js-icon.png" /> PersonPage.json                                      Page JSON
│       │   └── <img src="/assets/csharp-icon.png" /> PersonPage.json.cs                       Page JSON code-behind
│       ├── <img src="/assets/folder-icon.png" /> wwwroot                                 Static content root folder
│       │   ├── <img src="/assets/folder-icon.png" /> StarcounterSample                                 Project name
│       │   │   ├── <img src="/assets/folder-icon.png" /> css                                          Styles sheets
│       │   │   ├── <img src="/assets/folder-icon.png" /> elements                                   Custom elements
│       │   │   ├── <img src="/assets/folder-icon.png" /> fonts                                           Font files
│       │   │   ├── <img src="/assets/folder-icon.png" /> images                                              Images
│       │   │   ├── <img src="/assets/folder-icon.png" /> js                                        JavaScript files
│       │   │   └── <img src="/assets/folder-icon.png" /> views                HTML files which represent JSON pages
│       │   │       ├── <img src="/assets/html-icon.png" /> MainPage.html                  Example of an HTML page
│       │   │       └── <img src="/assets/html-icon.png" /> StandalonePage.html             Standalone master page
│       │   └── <img src="/assets/folder-icon.png" /> sys                                    Bower components folder
│       ├── <img src="/assets/file-icon.png" /> .bowerrc                                         Bower config file
│       ├── <img src="/assets/js-icon.png" /> bower.json                                         Bower JSON file
│       ├── <img src="/assets/file-icon.png" /> StarcounterSample.csproj                           VS project file
│       └── <img src="/assets/csharp-icon.png" /> Program.cs                                           Startup class
├── <img src="/assets/folder-icon.png" /> test                                                          Tests folder
│   └── <img src="/assets/folder-icon.png" /> StarcounterSampleTest                                     Project name
│       └── <img src="/assets/file-icon.png" /> StarcounterSampleTest.csproj                       VS project file
├── <img src="/assets/file-icon.png" /> build.bat                                                   Build projects
├── <img src="/assets/js-icon.png" /> global.json                                               Global JSON file
├── <img src="/assets/file-icon.png" /> StarcounterSample.sln                                     VS solution file
├── <img src="/assets/file-icon.png" /> run.bat                                                       Run projects
├── <img src="/assets/file-icon.png" /> test.bat                                                     Test projects
└── <img src="/assets/file-icon.png" /> weaver.ignore                                           <a href="/guides/working-with-starcounter/weaver/">Ignored assemblies</a>
</pre>

#### Namespaces

`Api`, `Database`, `Helpers`, and `ViewModels` folders may or may not have their own namespace.

A json view model class would look like this:

```cs
using Starcounter;

namespace StarcounterSample 
{
    public class MainPage : Json 
    {
    }
}
```

A helper file inside `Helpers` folder would look like this:

```cs
namespace StarcounterSample 
{
    public class StringsHelper 
    {
    }
}
```

A handler file inside `Api` folder would look like this:

```cs
using Starcounter;

namespace StarcounterSample 
{
    public class MainHandlers 
    {
		public void Register() 
        {
			Handle.GET("/StarcounterSample", () => new MainPage());
		}
    }
}
```

Custom sub-folders and sub-namespaces could be used if needed.

A view page inside sub-folder: `StarcounterSample/ViewModels/Launcher/AppMenuPage.json`.
```cs
using Starcounter;

namespace StarcounterSample.Launcher 
{
    public class AppMenuPage: Json 
    {
    }
}
```

#### C# files & classes

Name of `.cs` and `.json` files should be exactly the same as classes inside. Name of `.json` and `.json.cs` files should also match.

The correct structure for sign in page would be like this:

- `ViewModels/SignInPage.json`
- `ViewModels/SignInPage.json.cs`
- `class SignInPage : Json`

#### Html page files

Html files which represent a json view model like `SignInPage.Html` should be named exactly the same as name of json file.

This is correct:
```javascript
{
    "Html": "/GoogleSignIn/views/SignInPage.html"
}
```

And these are incorrect:
```javascript
{
    "Html": "/GoogleSignIn/views/signinpage.html"
}
```

```javascript
{
    "Html": "/GoogleSignIn/views/sign-in-page.html"
}
```

#### Custom elements

The html files which do not represent any of json page should be stored inside `elements` folder. The name of a file should be exactly the same as name of the element inside.

#### JavaScript libraries

Most of the Starcounter applications do not use custom JavaScript libraries outside of WebComponents.
If you need a custom JavaScript library then it should be scoped to your application and saved inside a `js` folder.

### Startup `Program.cs` class

- In small applicaions, the startup class may register handlers and make some preparations.
- In big applications, the startup class should be minified and only call `Register` method of `/Api/` classes.

### Visual Studio files

Visual Studio solution (`sln`) and project (`csproj`, `kproj`) files should be checked in to the version control system.

User preference files (`suo`), which carry information about unloaded projects in a solution or breakpoints in a project, should not be checked in to the version control system.